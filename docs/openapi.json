{"openapi":"3.1.0","info":{"title":"PortPulse API","description":"Authentication:\n  - Demo: header `X-API-Key: dev_demo_123`\n  - Production: `X-API-Key: <pp_xxx>` or `Authorization: Bearer <key>`\n","version":"0.1.1"},"paths":{"/v1/health":{"get":{"tags":["meta"],"summary":"Health","operationId":"health_v1_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/v1/meta/sources":{"get":{"tags":["meta"],"summary":"Data sources & ETL metadata","operationId":"meta_sources_v1_meta_sources_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}},"head":{"tags":["meta"],"summary":"HEAD for /meta/sources","operationId":"head_meta_sources_v1_meta_sources_head","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/v1/sources":{"get":{"tags":["meta"],"summary":"(alias) Data sources & ETL metadata","operationId":"sources_alias_v1_sources_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}},"head":{"tags":["meta"],"summary":"(alias) HEAD for /sources","operationId":"head_sources_alias_v1_sources_head","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/v1/hs/{hs_code}/imports":{"get":{"tags":["hs","hs"],"summary":"HS Imports (beta-gated)","operationId":"hs_imports_beta_v1_hs__hs_code__imports_get","parameters":[{"name":"hs_code","in":"path","required":true,"schema":{"type":"string","title":"Hs Code"}},{"name":"from_","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"From "}},{"name":"to","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"To"}},{"name":"format","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Format"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/ports/{unlocode}/alerts":{"get":{"tags":["ports","ports"],"summary":"Dwell change alerts (v1)","operationId":"get_alerts_v1_ports__unlocode__alerts_get","parameters":[{"name":"unlocode","in":"path","required":true,"schema":{"type":"string","title":"Unlocode"}},{"name":"window","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"default":"14d","title":"Window"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"head":{"tags":["alerts","alerts"],"summary":"HEAD for alerts (v1)","operationId":"head_alerts_v1_ports__unlocode__alerts_head","parameters":[{"name":"unlocode","in":"path","required":true,"schema":{"type":"string","title":"Unlocode"}},{"name":"window","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"支持 '14' 或 '14d'，范围 7-60","default":"14","title":"Window"},"description":"支持 '14' 或 '14d'，范围 7-60"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/ports/{unlocode}/overview":{"get":{"tags":["ports","ports"],"summary":"Get Overview","operationId":"get_overview_v1_ports__unlocode__overview_get","parameters":[{"name":"unlocode","in":"path","required":true,"schema":{"type":"string","title":"Unlocode"}},{"name":"format","in":"query","required":false,"schema":{"anyOf":[{"type":"string","pattern":"^(json|csv)$"},{"type":"null"}],"title":"Format"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"head":{"tags":["ports","ports"],"summary":"Head Overview","operationId":"head_overview_v1_ports__unlocode__overview_head","parameters":[{"name":"unlocode","in":"path","required":true,"schema":{"type":"string","title":"Unlocode"}},{"name":"format","in":"query","required":false,"schema":{"anyOf":[{"type":"string","pattern":"^(json|csv)$"},{"type":"null"}],"title":"Format"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/ports/{unlocode}/trend":{"get":{"tags":["ports","ports"],"summary":"Port trend (JSON/CSV)","operationId":"get_trend_v1_ports__unlocode__trend_get","parameters":[{"name":"unlocode","in":"path","required":true,"schema":{"type":"string","title":"Unlocode"}},{"name":"days","in":"query","required":false,"schema":{"anyOf":[{"type":"integer","maximum":30,"minimum":1},{"type":"null"}],"title":"Days"}},{"name":"window","in":"query","required":false,"schema":{"anyOf":[{"type":"integer","maximum":30,"minimum":1},{"type":"null"}],"title":"Window"}},{"name":"limit","in":"query","required":false,"schema":{"anyOf":[{"type":"integer","maximum":1000,"minimum":1},{"type":"null"}],"title":"Limit"}},{"name":"format","in":"query","required":false,"schema":{"anyOf":[{"type":"string","pattern":"^(json|csv)$"},{"type":"null"}],"title":"Format"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"head":{"tags":["ports","ports"],"summary":"Head Trend","operationId":"head_trend_v1_ports__unlocode__trend_head","parameters":[{"name":"unlocode","in":"path","required":true,"schema":{"type":"string","title":"Unlocode"}},{"name":"days","in":"query","required":false,"schema":{"anyOf":[{"type":"integer","maximum":30,"minimum":1},{"type":"null"}],"title":"Days"}},{"name":"window","in":"query","required":false,"schema":{"anyOf":[{"type":"integer","maximum":30,"minimum":1},{"type":"null"}],"title":"Window"}},{"name":"format","in":"query","required":false,"schema":{"anyOf":[{"type":"string","pattern":"^(json|csv)$"},{"type":"null"}],"title":"Format"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/ports/{unlocode}/snapshot":{"get":{"tags":["ports","ports"],"summary":"Port snapshot","operationId":"snapshot_v1_ports__unlocode__snapshot_get","parameters":[{"name":"unlocode","in":"path","required":true,"schema":{"type":"string","title":"Unlocode"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/ports/{unlocode}/dwell":{"get":{"tags":["ports","ports"],"summary":"Dwell (demo)","operationId":"dwell_v1_ports__unlocode__dwell_get","parameters":[{"name":"unlocode","in":"path","required":true,"schema":{"type":"string","title":"Unlocode"}},{"name":"window","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"default":"14d","title":"Window"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/hs/{code}/imports":{"get":{"tags":["hs","hs"],"summary":"HS Imports (beta-gated)","operationId":"hs_imports_beta_v1_hs__hs_code__imports_get","parameters":[{"name":"hs_code","in":"path","required":true,"schema":{"type":"string","title":"Hs Code"}},{"name":"from_","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"From "}},{"name":"to","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"To"}},{"name":"format","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Format"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"BackfillReq":{"properties":{"ports":{"items":{"type":"string"},"type":"array","title":"Ports"},"start":{"type":"string","format":"date","title":"Start"},"end":{"type":"string","format":"date","title":"End"},"dry_run":{"type":"boolean","title":"Dry Run","default":true}},"type":"object","required":["ports","start","end"],"title":"BackfillReq"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}}}}